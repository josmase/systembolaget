<div class="sorting">
  <form name="search-form" ng-submit="loadData()" novalidate>
    <div class="wrapper">
      <h1>Systembolaget sök</h1>
      <p>Fyll i alla rutor i formuläret för att filtrera hur mycket det ska kosta, hur många % det ska vara (50 = 50%).
        APK är alkohol per krona och hamnar rimligen inom 1 till 10 där 10 är mest prisvärt om du ska bli full. För mer
        information om drycken så klickar du på namnet i tabellen nedan </p>

      <div id="search">
        <div class="form-group">
          <label>Pris (min) <input name="price-min" type="number" min="0" ng-model="search.priceMin"
                                   placeholder="t.ex. 10"> </label>
        </div>
        <div class="form-group">
          <label>Pris (max)<input name="price-max" type="number" min="0" ng-model="search.priceMax"
                                  placeholder="t.ex. 1000"></label>
        </div>
        <div class="form-group">
          <label>Alkoholhalt (min) <input name="search.alcoholMin" min="0" max="100" type="number"
                                          ng-model="search.alcoholMin" placeholder="t.ex. 10"></label>
        </div>
        <div class="form-group">
          <label> Alkoholhalt (max<input name="alcohol-max" type="number" min="0" max="100" ng-model="search.alcoholMax"
                                         placeholder="t.ex. 90"></label>
        </div>
        <div class="form-group">
          <label>APK (min) <input name="apk-min" type="number" min="0" ng-model="search.apkMin"
                                  placeholder="t.ex. 1"></label>
        </div>
        <div class="form-group">
          <label>APK (max) <input name="apk-max" type="number" ng-model="search.apkMax" placeholder="t.ex. 10"></label>
        </div>
        <div class="form-group">
          <label>Namn<input ng-model="search.name"></label>
        </div>
        <div class="form-group">
          <label>Kategori<input ng-model="search.category"></label>
        </div>
        <div class="form-group">
          <button type="submit">Sök</button>
        </div>
      </div>
    </div>
    <p ng-show="articlesExists" id="resultNumber"><span>Din sökning gav {{ results }} resultat</span></p>
  </form>
</div>

<div class="wrapper">
  <div ng-show="!articlesExists" id="noArticles">
    <h2>Det finns inga annonser här just nu</h2>
  </div>
  <table ng-show="articlesExists">
    <tr>
      <th>
        <button ng-click="order('name')">
          Namn
          <span class="sortorder" ng-show="predicate === 'name'" ng-class="{reverse:reverse}"></span>
        </button>
      </th>
      <th>
        <button ng-click="order('price')">
          Pris
          <span class="sortorder" ng-show="predicate === 'price'" ng-class="{reverse:reverse}"></span>
        </button>
      </th>
      <th>
        <button ng-click="order('price_per_liter')">
          Pris/liter
          <span class="sortorder" ng-show="predicate === 'price_per_liter'" ng-class="{reverse:reverse}"></span>
        </button>

      </th>
      <th>
        <button ng-click="order('volume')">
          Volym
          <span class="sortorder" ng-show="predicate === 'volume'" ng-class="{reverse:reverse}"></span>
        </button>
      </th>
      <th>
        <button ng-click="order('apk')">
          APK
          <span class="sortorder" ng-show="predicate === 'apk'" ng-class="{reverse:reverse}"></span>
        </button>
      </th>
      <th>
        <button ng-click="order('alcohol')">
          Alkohol
          <span class="sortorder" ng-show="predicate === 'alcohol'" ng-class="{reverse:reverse}"></span>
        </button>
      </th>
      <th>
        <button ng-click="order('category')">
          Kategori
          <span class="sortorder" ng-show="predicate === 'category'" ng-class="{reverse:reverse}"></span>
        </button>
      </th>
    </tr>
    <tr
      ng-repeat="object in articles | orderBy:predicate:reverse">
      <td>
        <a ng-href="http://www.systembolaget.se/?searchquery={{ object.product_number}}" target="_blank">
          {{ object.name }}, {{ object.name_2 }}
        </a>
      </td>
      <td> {{ object.price }}</td>
      <td> {{ object.price_per_liter }}</td>
      <td> {{ object.volume * 1000 }}</td>
      <td> {{ object.apk}}</td>
      <td> {{ object.alcohol * 100 | number:0 }}%</td>
      <td> {{ object.tags[0].name }} <br/> {{ object.tags[1].name }}</td>
    </tr>
  </table>

  <button id="showMore" ng-show="articlesExists" ng-click="quantity = quantity + 500" ng-init="quantity=100">visa fler
  </button>
</div>
